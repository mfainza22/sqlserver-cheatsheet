# SQL SERVER CHEATSHEET



### LEADING ZERO DIGIT WITH LIMITED LENGTH

```sql
SELECT REPLICATE('0',4-LEN(ltrim(4)))

SELECT RIGHT(10000 + 9992, 4)
```


### RENAMING A DATABASE NAME AND FILE
```sql
ALTER DATABASE [BTCHSYSV2_10KN] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
GO

EXEC sp_detach_db 'BTCHSYSV2_10KN';
GO


CREATE DATABASE [BTCHSYSV2_10KN] ON 
(FILENAME = 'F:\db\BTCHSYSV2_10KN.mdf'),
(FILENAME = 'F:\db\BTCHSYSV2_10KN_log.ldf')
FOR ATTACH;


--ALTER DATABASE [BTCHSYSV2] MODIFY NAME = [BTCHSYSV2_10KN];
--GO


SELECT name AS LogicalFileName, physical_name AS PhysicalFileName
FROM sys.master_files
WHERE database_id = DB_ID('BTCHSYSV2_10KN');

ALTER DATABASE [BTCHSYSV2_10KN] MODIFY FILE (NAME = 'BTCHSYSV2', NEWNAME = 'BTCHSYSV2_10KN');
ALTER DATABASE [BTCHSYSV2_10KN] MODIFY FILE (NAME = 'BTCHSYSV2_Log', NEWNAME = 'BTCHSYSV2_10KN_log');


ALTER DATABASE [BTCHSYSV2_10KN] SET MULTI_USER;
GO
```
